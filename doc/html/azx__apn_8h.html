<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AZ Extension Libraries: stage/azx/core/hdr/azx_apn.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="telit_style.css" rel="stylesheet" type="text/css"/>
<link href="telit_navtree.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 100px;">
  <td id="projectlogo"><img alt="Logo" src="telit-logo.png"/></td>
  <td id="projectalign" style="padding-left: 2em;">
   <div id="projectname">AZ Extension Libraries
   &#160;<span id="projectnumber">1.1.7.57e4a7a</span>
   </div>
   <div id="projectbrief">A set of companion libraries that make AZ development easier</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('azx__apn_8h.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">azx_apn.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Automatically setting APN based on the ICCID of the SIM.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;m2mb_types.h&quot;</code><br />
<code>#include &quot;app_cfg.h&quot;</code><br />
<code>#include &quot;<a class="el" href="azx__log_8h_source.html">azx_log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="azx__string_8h_source.html">azx_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="azx__ati_8h_source.html">azx_ati.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for azx_apn.h:</div>
<div class="dyncontent">
<div class="center"><img src="azx__apn_8h__incl.png" border="0" usemap="#stage_2azx_2core_2hdr_2azx__apn_8h" alt=""/></div>
<map name="stage_2azx_2core_2hdr_2azx__apn_8h" id="stage_2azx_2core_2hdr_2azx__apn_8h">
<area shape="rect" title="Automatically setting APN based on the ICCID of the SIM." alt="" coords="225,5,356,47"/>
<area shape="rect" title=" " alt="" coords="281,319,389,345"/>
<area shape="rect" title=" " alt="" coords="174,95,253,121"/>
<area shape="rect" href="azx__log_8h.html" title="Logging utilities to print on available output channels." alt="" coords="162,244,241,271"/>
<area shape="rect" href="azx__string_8h.html" title="String manipulation library." alt="" coords="5,169,99,196"/>
<area shape="rect" href="azx__ati_8h.html" title="Sending AT commands and handling URCs." alt="" coords="328,95,403,121"/>
<area shape="rect" title=" " alt="" coords="149,319,254,345"/>
<area shape="rect" href="azx__buffer_8h.html" title="Buffers data that can be retrieved later." alt="" coords="334,169,429,196"/>
<area shape="rect" href="azx__utils_8h.html" title="Various helpful utilities." alt="" coords="224,169,309,196"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="azx__apn_8h__dep__incl.png" border="0" usemap="#stage_2azx_2core_2hdr_2azx__apn_8hdep" alt=""/></div>
<map name="stage_2azx_2core_2hdr_2azx__apn_8hdep" id="stage_2azx_2core_2hdr_2azx__apn_8hdep">
<area shape="rect" title="Automatically setting APN based on the ICCID of the SIM." alt="" coords="7,5,138,47"/>
<area shape="rect" href="azx__connectivity_8h.html" title="Establish network and data connection synchronously and provide info." alt="" coords="5,95,140,136"/>
</map>
</div>
</div>
<p><a href="azx__apn_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_apn_info.html">ApnInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure holding the APN information.  <a href="struct_apn_info.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Macros containing the sizes to be used for the APN info structure</div></td></tr>
<tr><td colspan="2"><div class="groupText"><dl class="section see"><dt>See also</dt><dd><a class="el" href="struct_apn_info.html" title="Structure holding the APN information.">ApnInfo</a> </dd></dl>
</div></td></tr>
<tr class="memitem:a94d1ae1e374f7425b4201e2615d8ea0c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="azx__apn_8h.html#a94d1ae1e374f7425b4201e2615d8ea0c">_MAX_CCID_SIZE</a>&#160;&#160;&#160;11</td></tr>
<tr class="separator:a94d1ae1e374f7425b4201e2615d8ea0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa088d33500cd35e3297ae65b8fd4dedd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="azx__apn_8h.html#aa088d33500cd35e3297ae65b8fd4dedd">_MAX_APN_SIZE</a>&#160;&#160;&#160;31</td></tr>
<tr class="separator:aa088d33500cd35e3297ae65b8fd4dedd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47a7f490db9641930531583b1eb21473"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="azx__apn_8h.html#a47a7f490db9641930531583b1eb21473">_MAX_USERNAME_SIZE</a>&#160;&#160;&#160;31</td></tr>
<tr class="separator:a47a7f490db9641930531583b1eb21473"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af978bfe3a4bacf05b0922924cc0710a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="azx__apn_8h.html#af978bfe3a4bacf05b0922924cc0710a2">_MAX_PASSWORD_SIZE</a>&#160;&#160;&#160;31</td></tr>
<tr class="separator:af978bfe3a4bacf05b0922924cc0710a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf3ea9a2348ad5ca2019a14bb9b08470"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="azx__apn_8h.html#abf3ea9a2348ad5ca2019a14bb9b08470">MAX_CCID_SIZE</a>&#160;&#160;&#160;(<a class="el" href="azx__apn_8h.html#a94d1ae1e374f7425b4201e2615d8ea0c">_MAX_CCID_SIZE</a> + 1)</td></tr>
<tr class="separator:abf3ea9a2348ad5ca2019a14bb9b08470"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90bbf09598d69a1f18b9d9ab436684e9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="azx__apn_8h.html#a90bbf09598d69a1f18b9d9ab436684e9">MAX_APN_SIZE</a>&#160;&#160;&#160;(<a class="el" href="azx__apn_8h.html#aa088d33500cd35e3297ae65b8fd4dedd">_MAX_APN_SIZE</a> + 1)</td></tr>
<tr class="separator:a90bbf09598d69a1f18b9d9ab436684e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9af3b288d3469e0ac0f16d837c8944f3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="azx__apn_8h.html#a9af3b288d3469e0ac0f16d837c8944f3">MAX_USERNAME_SIZE</a>&#160;&#160;&#160;(<a class="el" href="azx__apn_8h.html#a47a7f490db9641930531583b1eb21473">_MAX_USERNAME_SIZE</a> + 1)</td></tr>
<tr class="separator:a9af3b288d3469e0ac0f16d837c8944f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dd60836304e86517f63d05cfdb9afc4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="azx__apn_8h.html#a6dd60836304e86517f63d05cfdb9afc4">MAX_PASSWORD_SIZE</a>&#160;&#160;&#160;(<a class="el" href="azx__apn_8h.html#af978bfe3a4bacf05b0922924cc0710a2">_MAX_PASSWORD_SIZE</a> + 1)</td></tr>
<tr class="separator:a6dd60836304e86517f63d05cfdb9afc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa67e4d7b08aeafe33f281b9e53dee9ef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="azx__apn_8h.html#aa67e4d7b08aeafe33f281b9e53dee9ef">MAX_CCID_SIZE_STR</a>&#160;&#160;&#160;EXPAND_AND_QUOTE(<a class="el" href="azx__apn_8h.html#aa088d33500cd35e3297ae65b8fd4dedd">_MAX_APN_SIZE</a>)</td></tr>
<tr class="separator:aa67e4d7b08aeafe33f281b9e53dee9ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91e0e38fa3954f6b5a8fd4c83c327dc8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="azx__apn_8h.html#a91e0e38fa3954f6b5a8fd4c83c327dc8">MAX_APN_SIZE_STR</a>&#160;&#160;&#160;EXPAND_AND_QUOTE(<a class="el" href="azx__apn_8h.html#aa088d33500cd35e3297ae65b8fd4dedd">_MAX_APN_SIZE</a>)</td></tr>
<tr class="separator:a91e0e38fa3954f6b5a8fd4c83c327dc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a692d30c876fce9c4fb0d5d6a239a8619"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="azx__apn_8h.html#a692d30c876fce9c4fb0d5d6a239a8619">MAX_USERNAME_SIZE_STR</a>&#160;&#160;&#160;EXPAND_AND_QUOTE(<a class="el" href="azx__apn_8h.html#a47a7f490db9641930531583b1eb21473">_MAX_USERNAME_SIZE</a>)</td></tr>
<tr class="separator:a692d30c876fce9c4fb0d5d6a239a8619"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a796706cb726c6ae83e88b644d523033a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="azx__apn_8h.html#a796706cb726c6ae83e88b644d523033a">MAX_PASSWORD_SIZE_STR</a>&#160;&#160;&#160;EXPAND_AND_QUOTE(<a class="el" href="azx__apn_8h.html#af978bfe3a4bacf05b0922924cc0710a2">_MAX_PASSWORD_SIZE</a>)</td></tr>
<tr class="separator:a796706cb726c6ae83e88b644d523033a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a7fb7516f60881eef3ec95be78c52f755"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="azx__apn_8h.html#a7fb7516f60881eef3ec95be78c52f755">AZX_APN_SELECTION_E</a> { <a class="el" href="azx__apn_8h.html#a7fb7516f60881eef3ec95be78c52f755a251719ae4d713f44d510d45ce36e7d81">AZX_APN_SEL_DEFAULT</a>, 
<a class="el" href="azx__apn_8h.html#a7fb7516f60881eef3ec95be78c52f755a09bb8dd4d571ac6ab42e6d57b3eb714d">AZX_APN_SEL_DEFAULT_FROM_FILE</a>, 
<a class="el" href="azx__apn_8h.html#a7fb7516f60881eef3ec95be78c52f755a2db5f82e23d2c25af0c65ac7f78fa329">AZX_APN_SEL_FROM_FILE</a>
 }</td></tr>
<tr class="memdesc:a7fb7516f60881eef3ec95be78c52f755"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies how the APN was selected.  <a href="azx__apn_8h.html#a7fb7516f60881eef3ec95be78c52f755">More...</a><br /></td></tr>
<tr class="separator:a7fb7516f60881eef3ec95be78c52f755"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2939758fbac243e1aae8846d1f8a0c99"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="azx__apn_8h.html#a2939758fbac243e1aae8846d1f8a0c99">azx_apn_init</a> (void)</td></tr>
<tr class="memdesc:a2939758fbac243e1aae8846d1f8a0c99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the component loading the configuration.  <a href="azx__apn_8h.html#a2939758fbac243e1aae8846d1f8a0c99">More...</a><br /></td></tr>
<tr class="separator:a2939758fbac243e1aae8846d1f8a0c99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedd7ed7833ff5263cbef115c6d8dd24e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="azx__apn_8h.html#aedd7ed7833ff5263cbef115c6d8dd24e">azx_apn_recheckSim</a> (BOOLEAN set_apn)</td></tr>
<tr class="memdesc:aedd7ed7833ff5263cbef115c6d8dd24e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the SIM status again and may update the APN.  <a href="azx__apn_8h.html#aedd7ed7833ff5263cbef115c6d8dd24e">More...</a><br /></td></tr>
<tr class="separator:aedd7ed7833ff5263cbef115c6d8dd24e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeffc6cd0d6f89f55925d214568118d1a"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="struct_apn_info.html">ApnInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="azx__apn_8h.html#aeffc6cd0d6f89f55925d214568118d1a">azx_apn_getInfo</a> (void)</td></tr>
<tr class="memdesc:aeffc6cd0d6f89f55925d214568118d1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the details of the chosen APN values.  <a href="azx__apn_8h.html#aeffc6cd0d6f89f55925d214568118d1a">More...</a><br /></td></tr>
<tr class="separator:aeffc6cd0d6f89f55925d214568118d1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64b6bde48f1bdc5035a9de38380314c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="azx__apn_8h.html#a64b6bde48f1bdc5035a9de38380314c4">azx_apn_autoSet</a> (void)</td></tr>
<tr class="memdesc:a64b6bde48f1bdc5035a9de38380314c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Automatically sets the APN.  <a href="azx__apn_8h.html#a64b6bde48f1bdc5035a9de38380314c4">More...</a><br /></td></tr>
<tr class="separator:a64b6bde48f1bdc5035a9de38380314c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Automatically setting APN based on the ICCID of the SIM. </p>
<dl class="section version"><dt>Version</dt><dd>1.0.2 </dd></dl>
<dl class="section user"><dt>Dependencies</dt><dd>core/azx_ati core/azx_string </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Demetris Constantinou </dd>
<dd>
Sorin Basca </dd></dl>
<dl class="section date"><dt>Date</dt><dd>10/02/2019</dd></dl>
<p>This library allows deployment on the modem of an <code>iccid.dat</code> file containing details of what APN should be selected when a certain ICCID is found. The file can contain multiple options and the best match approach is taken to choose a desired value. AZX_APN_CID macro is defined in Makefile.in file and selects which PDP Context must be set with the retrieved APN and parameters.</p>
<p>The format of a line in <code>iccids.dat</code> is: </p><pre class="fragment">&lt;9 ICCID digits&gt;:&lt;APN string&gt;:&lt;apn-username | empty&gt;:&lt;apn-password | empty&gt;:&lt;1 | 2 | empty&gt;
</pre><p>For example: </p><pre class="fragment">897777777:sample:username:password:2
894620460:NXT17.NET:::
</pre><p>Any lines beginning with # will be ignored (and can be used for documenting the entries in the file).</p>
<p>The matching algorithm will retrieve the ICCID (if possible) and then set the APN according to the following options:</p><ul>
<li>if no SIM is found, then the APN will be AZX_APN_DEFAULT</li>
<li>if no match in the file, then the APN will be AZX_APN_DEFAULT</li>
<li>if one match in the file (one of the sequence matches the beginning of the ICCID) then the APN is selected from that</li>
<li>if more than one match in the file, then the longest sequence match will be chosen (for example if 891234 and 89123456 is found to match 8912345678..., then the entry for 89123456 will be picked)</li>
</ul>
<p>You can have a default entry in iccids.dat that just has 89, or *, at the beginning of the file. This means that if no match is found, this default entry is used instead of AZX_APN_DEFAULT.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="azx__apn_8h.html#a64b6bde48f1bdc5035a9de38380314c4" title="Automatically sets the APN.">azx_apn_autoSet</a> </dd>
<dd>
<a class="el" href="azx__apn_8h.html#aeffc6cd0d6f89f55925d214568118d1a" title="Gets the details of the chosen APN values.">azx_apn_getInfo</a> </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aa088d33500cd35e3297ae65b8fd4dedd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa088d33500cd35e3297ae65b8fd4dedd">&#9670;&nbsp;</a></span>_MAX_APN_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _MAX_APN_SIZE&#160;&#160;&#160;31</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max size of APN string </p>

</div>
</div>
<a id="a94d1ae1e374f7425b4201e2615d8ea0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94d1ae1e374f7425b4201e2615d8ea0c">&#9670;&nbsp;</a></span>_MAX_CCID_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _MAX_CCID_SIZE&#160;&#160;&#160;11</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max size of CCID </p>

</div>
</div>
<a id="af978bfe3a4bacf05b0922924cc0710a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af978bfe3a4bacf05b0922924cc0710a2">&#9670;&nbsp;</a></span>_MAX_PASSWORD_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _MAX_PASSWORD_SIZE&#160;&#160;&#160;31</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max size of APN password </p>

</div>
</div>
<a id="a47a7f490db9641930531583b1eb21473"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47a7f490db9641930531583b1eb21473">&#9670;&nbsp;</a></span>_MAX_USERNAME_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _MAX_USERNAME_SIZE&#160;&#160;&#160;31</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max size of APN username </p>

</div>
</div>
<a id="a90bbf09598d69a1f18b9d9ab436684e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90bbf09598d69a1f18b9d9ab436684e9">&#9670;&nbsp;</a></span>MAX_APN_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_APN_SIZE&#160;&#160;&#160;(<a class="el" href="azx__apn_8h.html#aa088d33500cd35e3297ae65b8fd4dedd">_MAX_APN_SIZE</a> + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max size of APN buffer </p>

</div>
</div>
<a id="a91e0e38fa3954f6b5a8fd4c83c327dc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91e0e38fa3954f6b5a8fd4c83c327dc8">&#9670;&nbsp;</a></span>MAX_APN_SIZE_STR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_APN_SIZE_STR&#160;&#160;&#160;EXPAND_AND_QUOTE(<a class="el" href="azx__apn_8h.html#aa088d33500cd35e3297ae65b8fd4dedd">_MAX_APN_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max size of APN as string </p>

</div>
</div>
<a id="abf3ea9a2348ad5ca2019a14bb9b08470"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf3ea9a2348ad5ca2019a14bb9b08470">&#9670;&nbsp;</a></span>MAX_CCID_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_CCID_SIZE&#160;&#160;&#160;(<a class="el" href="azx__apn_8h.html#a94d1ae1e374f7425b4201e2615d8ea0c">_MAX_CCID_SIZE</a> + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max size of CCID buffer </p>

</div>
</div>
<a id="aa67e4d7b08aeafe33f281b9e53dee9ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa67e4d7b08aeafe33f281b9e53dee9ef">&#9670;&nbsp;</a></span>MAX_CCID_SIZE_STR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_CCID_SIZE_STR&#160;&#160;&#160;EXPAND_AND_QUOTE(<a class="el" href="azx__apn_8h.html#aa088d33500cd35e3297ae65b8fd4dedd">_MAX_APN_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max size of CCID as string </p>

</div>
</div>
<a id="a6dd60836304e86517f63d05cfdb9afc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dd60836304e86517f63d05cfdb9afc4">&#9670;&nbsp;</a></span>MAX_PASSWORD_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_PASSWORD_SIZE&#160;&#160;&#160;(<a class="el" href="azx__apn_8h.html#af978bfe3a4bacf05b0922924cc0710a2">_MAX_PASSWORD_SIZE</a> + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max size of APN password buffer </p>

</div>
</div>
<a id="a796706cb726c6ae83e88b644d523033a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a796706cb726c6ae83e88b644d523033a">&#9670;&nbsp;</a></span>MAX_PASSWORD_SIZE_STR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_PASSWORD_SIZE_STR&#160;&#160;&#160;EXPAND_AND_QUOTE(<a class="el" href="azx__apn_8h.html#af978bfe3a4bacf05b0922924cc0710a2">_MAX_PASSWORD_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max size of APN password as string </p>

</div>
</div>
<a id="a9af3b288d3469e0ac0f16d837c8944f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9af3b288d3469e0ac0f16d837c8944f3">&#9670;&nbsp;</a></span>MAX_USERNAME_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_USERNAME_SIZE&#160;&#160;&#160;(<a class="el" href="azx__apn_8h.html#a47a7f490db9641930531583b1eb21473">_MAX_USERNAME_SIZE</a> + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max size of APN username buffer </p>

</div>
</div>
<a id="a692d30c876fce9c4fb0d5d6a239a8619"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a692d30c876fce9c4fb0d5d6a239a8619">&#9670;&nbsp;</a></span>MAX_USERNAME_SIZE_STR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_USERNAME_SIZE_STR&#160;&#160;&#160;EXPAND_AND_QUOTE(<a class="el" href="azx__apn_8h.html#a47a7f490db9641930531583b1eb21473">_MAX_USERNAME_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max size of APN username as string </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a7fb7516f60881eef3ec95be78c52f755"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fb7516f60881eef3ec95be78c52f755">&#9670;&nbsp;</a></span>AZX_APN_SELECTION_E</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="azx__apn_8h.html#a7fb7516f60881eef3ec95be78c52f755">AZX_APN_SELECTION_E</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specifies how the APN was selected. </p>
<p>Once the APN is selected, this enum helps in distinguish on the selection method used. This is especially useful if the selected APN is not as expected and the problem needs to be investigated.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="struct_apn_info.html" title="Structure holding the APN information.">ApnInfo</a> </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a7fb7516f60881eef3ec95be78c52f755a251719ae4d713f44d510d45ce36e7d81"></a>AZX_APN_SEL_DEFAULT&#160;</td><td class="fielddoc"><p>The default APN was used. </p>
<p>This means that either no SIM was present, or the <code>iccids.dat</code> file is missing. </p>
</td></tr>
<tr><td class="fieldname"><a id="a7fb7516f60881eef3ec95be78c52f755a09bb8dd4d571ac6ab42e6d57b3eb714d"></a>AZX_APN_SEL_DEFAULT_FROM_FILE&#160;</td><td class="fielddoc"><p>The default APN from iccids.dat was used. </p>
<p>This can happen if there is a default entry at the top of the file containing "89" or "*" </p>
</td></tr>
<tr><td class="fieldname"><a id="a7fb7516f60881eef3ec95be78c52f755a2db5f82e23d2c25af0c65ac7f78fa329"></a>AZX_APN_SEL_FROM_FILE&#160;</td><td class="fielddoc"><p>An APN value was found in iccids.dat. </p>
<p>There is some match that has more than 2 digits in common with the start of the ICCID. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a64b6bde48f1bdc5035a9de38380314c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64b6bde48f1bdc5035a9de38380314c4">&#9670;&nbsp;</a></span>azx_apn_autoSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void azx_apn_autoSet </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Automatically sets the APN. </p>
<p>This will retrieve the ICCID of the SIM and decide on what APN to use based on the matching algorithm and the <code>iccids.dat</code> file.</p>
<p>It is advised to ensure that the SIM is plugged in before calling this and also to call it again in case of SIM change. Otherwise the default APN will be used, which may not be what is required.</p>
<p>Once the APN is selected, this will automatically set it by running the needed AT commands.</p>
<p>This function is the same as calling the other functions in sequence and then calling the AT+CGDCONT command to set the APN.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="azx__apn_8h.html#aeffc6cd0d6f89f55925d214568118d1a" title="Gets the details of the chosen APN values.">azx_apn_getInfo</a> </dd>
<dd>
<a class="el" href="azx__apn_8h.html#aedd7ed7833ff5263cbef115c6d8dd24e" title="Checks the SIM status again and may update the APN.">azx_apn_recheckSim</a> </dd>
<dd>
<a class="el" href="azx__apn_8h.html#a2939758fbac243e1aae8846d1f8a0c99" title="Initializes the component loading the configuration.">azx_apn_init</a> </dd></dl>

</div>
</div>
<a id="aeffc6cd0d6f89f55925d214568118d1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeffc6cd0d6f89f55925d214568118d1a">&#9670;&nbsp;</a></span>azx_apn_getInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="struct_apn_info.html">ApnInfo</a>* azx_apn_getInfo </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the details of the chosen APN values. </p>
<p>Once <a class="el" href="azx__apn_8h.html#a64b6bde48f1bdc5035a9de38380314c4" title="Automatically sets the APN.">azx_apn_autoSet()</a> returns, this can be used to retrieve the details of what was chosen.</p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the structure containing the information.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="azx__apn_8h.html#a64b6bde48f1bdc5035a9de38380314c4" title="Automatically sets the APN.">azx_apn_autoSet</a> </dd>
<dd>
<a class="el" href="struct_apn_info.html" title="Structure holding the APN information.">ApnInfo</a> </dd></dl>

</div>
</div>
<a id="a2939758fbac243e1aae8846d1f8a0c99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2939758fbac243e1aae8846d1f8a0c99">&#9670;&nbsp;</a></span>azx_apn_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void azx_apn_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the component loading the configuration. </p>
<p>If azx_apn_autoSet is not used, you can just read the file configuration by calling this function. The APN will not be updated, neither with the modem, nor in the memory.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="azx__apn_8h.html#a64b6bde48f1bdc5035a9de38380314c4" title="Automatically sets the APN.">azx_apn_autoSet</a> </dd>
<dd>
<a class="el" href="azx__apn_8h.html#aedd7ed7833ff5263cbef115c6d8dd24e" title="Checks the SIM status again and may update the APN.">azx_apn_recheckSim</a> </dd>
<dd>
<a class="el" href="azx__apn_8h.html#aeffc6cd0d6f89f55925d214568118d1a" title="Gets the details of the chosen APN values.">azx_apn_getInfo</a> </dd></dl>

</div>
</div>
<a id="aedd7ed7833ff5263cbef115c6d8dd24e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedd7ed7833ff5263cbef115c6d8dd24e">&#9670;&nbsp;</a></span>azx_apn_recheckSim()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void azx_apn_recheckSim </td>
          <td>(</td>
          <td class="paramtype">BOOLEAN&#160;</td>
          <td class="paramname"><em>set_apn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks the SIM status again and may update the APN. </p>
<p>This function checks the SIM presence and the ICCID value and will select the optimal APN for that value.</p>
<p>The function just stores the APN in memory and the new value can be retrieved through azx_apn_getInfo. The APN does not get registered with the modem. This is useful if the APN is registered though a call in another library.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">set_apn</td><td>If the flag is true, the APN will also be set on the modem, otherwise the values are updated without informing the modem of the new APN</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="azx__apn_8h.html#a64b6bde48f1bdc5035a9de38380314c4" title="Automatically sets the APN.">azx_apn_autoSet</a> </dd>
<dd>
<a class="el" href="azx__apn_8h.html#aeffc6cd0d6f89f55925d214568118d1a" title="Gets the details of the chosen APN values.">azx_apn_getInfo</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_a451d24824756e59bc0ab465137a1721.html">stage</a></li><li class="navelem"><a class="el" href="dir_159a56f2f375d6f48b3d40b3fd23d10a.html">azx</a></li><li class="navelem"><a class="el" href="dir_3e7d3f5cdeaa0d2916b9c57d66c8d865.html">core</a></li><li class="navelem"><a class="el" href="dir_df95525600129d8bfad6c42108ff5419.html">hdr</a></li><li class="navelem"><a class="el" href="azx__apn_8h.html">azx_apn.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
    <li class="footer">
      Â© Telit 2019 All rights reserved.
      <a href="https://telit.com/copyright-policy/">Copyright Policy</a> |
      <a href="https://www.telit.com/editorial-policy-and-process/">Editorial Policy</a> |
      <a href="https://telit.com/eu-privacy-policy/">EU Privacy Policy</a> |
      <a href="https://telit.com/privacy-policy/">Global Privacy Policy</a> |
      <a href="https://www.telit.com/modern-slavery-statement/">Modern Slavery Statement</a> |
      <a href="https://telit.com/terms-of-use/">Terms of Use</a> </li>
  </ul>
</div>
</body>
</html>
