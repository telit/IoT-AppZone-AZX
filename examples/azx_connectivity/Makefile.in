# Log settings
LOGS_ENABLE = 1

# If logs are enabled, channel can be: MAIN_UART AUX_UART USB0 USB1
LOGS_CHANNEL = AZX_LOG_TO_USB1

# How detailed should the logs be. See AZX_LOG_LEVEL_E
LOGS_LEVEL = DEBUG

# Enable to add ANSI colours to the logs
LOGS_COLOUR = 0


# Major and minor release
# These will be used in the application code, as well for deployment

SW_VER_MAJ = 1
SW_VER_MIN = 5



# Connectivity Settings

# Which `+CGDCONT` to use for a PDP context 
CPPFLAGS += -DAZX_PDP_CID=1

#Fallback APN for azx_apn_autoSet() 
CPPFLAGS += -DAZX_APN_DEFAULT=\"internet\"

# Manual APN
CPPFLAGS += -DAZX_APN=\"\"

# Manual APN username
CPPFLAGS += -DAZX_APN_USER=\"\"

# Manual APN password
CPPFLAGS += -DAZX_APN_PWD=\"\"

# -------------------------

## ---- do not touch below this line

# AUTOGENERATED (# commits since version change)
SW_VER_BLD = 55
# AUTOGENERATED (git commit)
SW_VER_ID = f372318


SW_VER=$(SW_VER_MAJ).$(SW_VER_MIN).$(SW_VER_BLD):$(SW_VER_ID)


CLEAN_BEFORE_BUILD = clean

# The current version of the API
CPPFLAGS += -DAZX_VERSION=\"$(SW_VER)\"


ifeq ($(strip $(LOGS_ENABLE)),1)
# if logs are enabled 
# Enable Logs in app
LOGS = _LOGS
CPPFLAGS += -DLOG_CHANNEL=$(LOGS_CHANNEL)
CPPFLAGS += -DAZX_LOG_LEVEL=AZX_LOG_LEVEL_$(LOGS_LEVEL)

CPPFLAGS += -DAZX_LOG_ENABLE_COLOURS=$(LOGS_COLOUR)
else
LOGS = 
CPPFLAGS += -DAZX_LOG_DISABLE
endif


VERSION=$(SPECIAL_BUILD)$(SW_VER_MAJ).$(SW_VER_MIN).$(SW_VER_BLD).$(SW_VER_ID)$(LOGS)$(DEV)

# Disable the missing-field-initializers as GCC sometimes complains about
# legitimate struct initialization
# (https://stackoverflow.com/questions/1538943/why-is-the-compiler-throwing-this-warning-missing-initializer-isnt-the-stru)
CPPFLAGS += -Wall -Werror -Wextra -Wunreachable-code -Wno-missing-field-initializers -Wno-format

# --------------------------------------------------------------------------


# The following will be appended below the main project's Makefile.in

# Let the compiler know the location of additional code
CPPFLAGS += -I azx/hdr
OBJS += $(patsubst %.c,%.o,$(wildcard azx/src/*.c))

# The name of the output files (similar to gcc -o). Default: `m2mapz`
# This affects:
# - $(TELITBIN).bin, the executable,
# - $(TELITBIN).ax, an ELF 32-bit LSB executable, ARM, EABI5 version 1 (SYSV), statically linked, with debug_info, not stripped
# - $(TELITBIN).ma, the symbol list
TELITBIN = azx_connectivity_demo.$(VERSION)

# Specify the heap size the application is to use.
# HEAP=

